# –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥ (–û–û–ü, PHP)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `src/AbstractBook.php` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∫–Ω–∏–≥–∞
- `src/DigitalBook.php` ‚Äî —Ü–∏—Ñ—Ä–æ–≤–∞—è –∫–Ω–∏–≥–∞
- `src/PaperBook.php` ‚Äî –±—É–º–∞–∂–Ω–∞—è –∫–Ω–∏–≥–∞
- `app.php` ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è CLI

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

````bash
php app.php

---

# üí° –ö–∞–∫ –≤—Å—Ç–∞–≤–ª—è—Ç—å

- –°–æ–∑–¥–∞–π –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `book-library`
- –í –Ω–µ–π —Å–¥–µ–ª–∞–π –ø–æ–¥–ø–∞–ø–∫—É `src`
- –ü–æ–ª–æ–∂–∏ —Ç—É–¥–∞ `AbstractBook.php`, `DigitalBook.php`, `PaperBook.php`
- –í –∫–æ—Ä–Ω–µ —Å–æ–∑–¥–∞–π `app.php`
- –ü–æ—Ç–æ–º –∑–∞–ø—É—Å–∫–∞–π:
  ```bash
  php app.php
````

–ü—É–Ω–∫—Ç 6:
–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å:
class A {
    public function foo() {
        static $x = 0;
        echo ++$x;
    }
}

$a1 = new A();
$a2 = new A();
$a1->foo();
$a2->foo();
$a1->foo();
$a2->foo();
–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

static $x = 0; ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $x –æ–±—ä—è–≤–ª–µ–Ω–∞ –∫–∞–∫ static, –∑–Ω–∞—á–∏—Ç –æ–Ω–∞ –æ–¥–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ A.

–î–∞–∂–µ –µ—Å–ª–∏ —Å–æ–∑–¥–∞—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ ($a1, $a2), –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $x –±—É–¥–µ—Ç –æ–¥–Ω–∞ –Ω–∞ –≤–µ—Å—å –∫–ª–∞—Å—Å A.

–ü–æ—à–∞–≥–æ–≤–æ:

$a1->foo();
$x = 0 ‚Üí ++$x = 1 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 1

$a2->foo();
$x = 1 ‚Üí ++$x = 2 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 2

$a1->foo();
$x = 2 ‚Üí ++$x = 3 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 3

$a2->foo();
$x = 3 ‚Üí ++$x = 4 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 4

–í—ã–≤–æ–¥:
1234

–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å (—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º):
class A {
    public function foo() {
        static $x = 0;
        echo ++$x;
    }
}

class B extends A {
}

$a1 = new A();
$b1 = new B();
$a1->foo();
$b1->foo();
$a1->foo();
$b1->foo();
–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

–¢–µ–ø–µ—Ä—å –µ—Å—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–∞: A –∏ B.

–£ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç —Å–≤–æ—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $x (—É A —Å–≤–æ—è $x, —É B —Å–≤–æ—è $x).

–ü–æ—à–∞–≥–æ–≤–æ:

$a1->foo(); (A)
$x –≤ –∫–ª–∞—Å—Å–µ A = 0 ‚Üí ++$x = 1 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 1

$b1->foo(); (B)
$x –≤ –∫–ª–∞—Å—Å–µ B = 0 ‚Üí ++$x = 1 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 1

$a1->foo(); (A)
$x –≤ –∫–ª–∞—Å—Å–µ A = 1 ‚Üí ++$x = 2 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 2

$b1->foo(); (B)
$x –≤ –∫–ª–∞—Å—Å–µ B = 1 ‚Üí ++$x = 2 ‚Üí –≤—ã–≤–æ–¥–∏—Ç 2

–í—ã–≤–æ–¥:
1122

–ü–æ—á–µ–º—É —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ (A –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è) ‚Äî —É –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—â–∏–π $x.

–í–æ –≤—Ç–æ—Ä–æ–º —Å–ª—É—á–∞–µ (A –∏ B) ‚Äî —É –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–≤–æ—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π $x.

üëâ –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å PHP: static –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∞—Å—Å—É, –∞ –Ω–µ –∫–æ –≤—Å–µ–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º.

–ö—Ä–∞—Ç–∫–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:
–°–∏—Ç—É–∞—Ü–∏—è                           | –í—ã–≤–æ–¥
----------------------------------------------------------------------------
–ù–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞   | –û–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è static
–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏    | –°–≤–æ—è static –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å
